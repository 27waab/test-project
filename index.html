<!DOCTYPE html>
<html lang="ar">
    <head>
        <meta charset="UTF-8">
        <title>تجربة إدخال بيانات</title>
    </head>
    <body>
        <h2>إدخال بيانات تجريبية</h2>
        <form id="testForm">
            <label>الاسم: <input type="text" id="name" required></label><br><br>
            <label>العمر: <input type="number" id="age" required></label><br><br>
            <label>ملاحظة: <input type="text" id="note"></label><br><br>
            <button type="submit">إرسال</button>
        </form>
        <p id="result"></p>
        <script>
            const scriptURL = "https://script.google.com/macros/s/AKfycbxEOYyF2HUwetHH_YtTwUN0y2HBGEb8ob8cpaZvTVkBR9GWzbPPiRbTPuCExrAUZPw/exec";
            document.getElementById("testForm").addEventListener("submit", e => {
                e.preventDefault();
                const data = {
                    name: document.getElementById("name").value,
                    age: document.getElementById("age").value,
                    note: document.getElementById("note").value
                };
                fetch(scriptURL, {
                    method: "POST",
                    body: JSON.stringify(data)
                })
                    .then(res => res.json())
                    .then(response => {
                        document.getElementById("result").innerText = "✅ تم الحفظ بنجاح في الصف #" + response.row;
                        document.getElementById("testForm").reset();
                    })
                    .catch(error => {
                        document.getElementById("result").innerText = "❌ حدث خطأ: " + error;
                    });
            });
        </script>
    </body>
</html>
